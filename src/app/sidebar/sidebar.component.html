<div class="sidebar" [class.collapsed]="!isExpanded">
  <div class="sidebar-header">
    <div class="logo-container">
      <img src="assets/images/logo.png" alt="PhobiaShift VR Logo">
      <h2 *ngIf="isExpanded">PhobiaShift VR</h2>
    </div>
    <button class="toggle-btn" (click)="toggleSidebar()">
      <i [class]="isExpanded ? 'fas fa-chevron-left' : 'fas fa-chevron-right'"></i>
    </button>
  </div>

  <div class="sidebar-content">
    <nav class="nav-menu">
      <a routerLink="/inicio" routerLinkActive="active" class="nav-item">
        <i class="fas fa-home"></i>
        <span *ngIf="isExpanded">Inicio</span>
      </a>
      <a routerLink="/agenda" routerLinkActive="active" class="nav-item">
        <i class="fas fa-calendar-alt"></i>
        <span *ngIf="isExpanded">Agenda</span>
      </a>
      <a routerLink="/pacientes" routerLinkActive="active" class="nav-item">
        <i class="fas fa-users"></i>
        <span *ngIf="isExpanded">Pacientes</span>
      </a>
      <a routerLink="/configuracion" routerLinkActive="active" class="nav-item">
        <i class="fas fa-cog"></i>
        <span *ngIf="isExpanded">Configuración</span>
      </a>
    </nav>

    <!-- Lista de pacientes -->
    <div class="patients-section" *ngIf="patients.length > 0">
      <h3 *ngIf="isExpanded" class="section-title">Mis Pacientes</h3>
      <div
        class="patient-item"
        *ngFor="let patient of patients"
        (click)="goToSessions(patient.patientId, patient.patientName)"
      >
        <span class="status blue"></span>
        <span class="patient-name" *ngIf="isExpanded">{{ patient.patientName }}</span>
        <span class="patient-initial" *ngIf="!isExpanded">{{ patient.patientName.charAt(0).toUpperCase() }}</span>
      </div>
    </div>

    <div class="logout-section">
      <button class="logout-btn" (click)="cerrarSesion()">
        <i class="fas fa-sign-out-alt"></i>
        <span *ngIf="isExpanded">Cerrar Sesión</span>
      </button>
    </div>
  </div>
</div>
